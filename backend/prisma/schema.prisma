generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  extensions = [postgis]
}

model User {
  user_id    Int      @id @unique @default(autoincrement())
  first_name String
  last_name  String
  email      String
  phone      String
  active     Boolean  @default(false)
  Setting    Setting?
  last_login DateTime
  create_at  DateTime @default(now())
  update_at  DateTime @updatedAt
}

model Setting {
  user_id Int  @unique
  user    User @relation(fields: [user_id], references: [user_id])

  message Boolean
  terms   Boolean
}

model Store  {
  store_id        Int @id @default(autoincrement())
  name            String
  category        Category
  Address         Address?
  OpeningHour     OpeningHour?
  active          Boolean
  description     String
  enter_date      DateTime
  create_at       DateTime @default(now())
  update_at       DateTime @updatedAt

}

model Address {
  store_id        Int @unique
  store           Store @relation(fields: [store_id], references: [store_id])
  location        Unsupported("geography(Point, 4326)")
  street          String
  postcode        String
  city            String
  detail          String
}

model OpeningHour {
  store_id        Int @unique
  store           Store @relation(fields: [store_id], references: [store_id])
  Mon             String
  Tue             String
  Wed             String
  Thu             String
  Fri             String
  Sat             String
  Sun             String
}




enum Category {
  restaurant
  beverage
  sushi
}